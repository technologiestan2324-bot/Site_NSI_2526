
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini-Projet POO-Processus Version D - TNSI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #43e97b;
        }

        h1 {
            color: #2ecc71;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .version {
            background: #2ecc71;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            font-weight: bold;
        }

        .metadata {
            display: flex;
            justify-content: center;
            gap: 30px;
            font-size: 0.95em;
            color: #666;
            margin-top: 15px;
        }

        .metadata span {
            background: #f0f0f0;
            padding: 5px 15px;
            border-radius: 20px;
        }

        h2 {
            color: #2ecc71;
            margin-top: 35px;
            margin-bottom: 15px;
            font-size: 1.8em;
            border-left: 5px solid #43e97b;
            padding-left: 15px;
        }

        h3 {
            color: #43e97b;
            margin-top: 25px;
            margin-bottom: 12px;
            font-size: 1.3em;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .objectifs {
            background: linear-gradient(135deg, #43e97b15, #38f9d715);
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
            border-left: 5px solid #43e97b;
        }

        .objectifs h3 {
            margin-top: 0;
        }

        .objectifs ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .exercice {
            background: #f8f9fa;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }

        .exercice-header {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
            color: white;
            padding: 12px 20px;
            margin: -25px -25px 20px -25px;
            border-radius: 6px 6px 0 0;
            font-weight: bold;
            font-size: 1.2em;
        }

        .question {
            background: white;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #43e97b;
        }

        .question strong {
            color: #2ecc71;
            display: block;
            margin-bottom: 8px;
        }

        code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border: 2px solid #43e97b;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .note {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .note strong {
            color: #856404;
        }

        .attention {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .attention strong {
            color: #721c24;
        }

        .info {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info strong {
            color: #0c5460;
        }

        .print-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #43e97b, #38f9d7);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            font-weight: bold;
            z-index: 1000;
        }

        .print-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
            color: white;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background: #f9f9f9;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        .algo-box {
            background: #e8f8f5;
            border: 2px solid #43e97b;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .algo-box h4 {
            color: #2ecc71;
            margin-bottom: 10px;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }

            .container {
                box-shadow: none;
                padding: 20px;
            }

            .print-btn {
                display: none;
            }

            .exercice, .question {
                page-break-inside: avoid;
            }

            h2 {
                page-break-after: avoid;
            }

            pre {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <button class="print-btn" onclick="window.print()">üñ®Ô∏è Imprimer / PDF</button>

    <div class="container">
        <header>
            <h1>Mini-Projet POO-Processus</h1>
            <span class="version">VERSION 4</span>
            <div class="metadata">
                <span>üìö Terminale NSI</span>
                <span>‚è±Ô∏è Dur√©e : 2h</span>
                <span>üë• Bin√¥me</span>
            </div>
        </header>

        <div class="objectifs">
            <h3>üéØ Objectifs du projet</h3>
            <ul>
                <li>D√©velopper une classe Processus avec ses attributs et m√©thodes</li>
                <li>Programmer l'algorithme FIFO</li>
                <li>Programmer l'algorithme Round Robin</li>
                <li>Programmer l'algorithme SJF</li>
                <li>Programmer l'algorithme SRTF</li>
                <li>Comparer les algorithmes selon plusieurs crit√®res</li>
            </ul>
        </div>

        <h2>I. La classe Processus en POO</h2>

        <div class="exercice">
            <div class="exercice-header">Exercice 1 : Conception objet</div>
            
            <div class="question">
                <strong>Question 1.1 :</strong> Cr√©ez <code>processus.py</code> avec la classe :
            </div>

<pre><code>class Processus:
    def __init__(self, pid, arrivee, duree):
        self.pid = pid
        self.arrivee = arrivee
        self.duree = duree
        self.duree_restante = duree
        self.debut = None
        self.fin = None
        
    def temps_traitement(self):
        if self.fin is not None:
            return self.fin - self.arrivee
        return None
    
    def temps_attente(self):
        if self.fin is not None:
            return self.temps_traitement() - self.duree
        return None
    
    def __repr__(self):
        return f"P{self.pid}(arr={self.arrivee}, dur={self.duree})"
</code></pre>

            <div class="question">
                <strong>Question 1.2 :</strong> Cr√©ez cet ensemble de test :
            </div>

<pre><code>processus_test = [
    Processus(1, 0, 4),
    Processus(2, 1, 9),
    Processus(3, 3, 5),
    Processus(4, 5, 2)
]
</code></pre>

            <div class="question">
                <strong>Question 1.3 :</strong> Expliquez le r√¥le de chaque attribut de la classe. Lesquels sont modifi√©s pendant l'ordonnancement ?
            </div>
        </div>

        <h2>II. FIFO (Premier arriv√©, premier servi)</h2>

        <div class="algo-box">
            <h4>üìå Algorithme FIFO</h4>
            <p>
                L'algorithme le plus simple : les processus sont ex√©cut√©s dans l'ordre de leur arriv√©e.
                Non pr√©emptif, simple mais peut causer de longs temps d'attente (effet de convoi).
            </p>
        </div>

        <div class="exercice">
            <div class="exercice-header">Exercice 2 : FIFO simple</div>
            
            <div class="question">
                <strong>Question 2.1 :</strong> Dans <code>ordonnancement.py</code>, impl√©mentez FIFO :
            </div>

<pre><code>def fifo(processus_liste):
    processus = sorted(processus_liste, key=lambda p: p.arrivee)
    temps_actuel = 0
    
    for p in processus:
        if temps_actuel < p.arrivee:
            temps_actuel = p.arrivee
        
        p.debut = temps_actuel
        temps_actuel += p.duree
        p.fin = temps_actuel
    
    return processus
</code></pre>

            <div class="question">
                <strong>Question 2.2 :</strong> Testez FIFO avec :
            </div>

<pre><code>processus = [
    Processus(1, 0, 16),
    Processus(2, 2, 3),
    Processus(3, 4, 7),
    Processus(4, 6, 5),
    Processus(5, 8, 4)
]
</code></pre>

            <div class="question">
                <strong>Question 2.3 :</strong> Dessinez le diagramme de Gantt. Quel processus a le temps d'attente le plus long ?
            </div>

            <div class="question">
                <strong>Question 2.4 :</strong> Pourquoi P1 (le plus long) p√©nalise-t-il tous les autres ?
            </div>
        </div>

        <h2>III. Round Robin (tourniquet)</h2>

        <div class="exercice">
            <div class="exercice-header">Exercice 3 : Round Robin avec quantum</div>
            
            <div class="question">
                <strong>Question 3.1 :</strong> Codez Round Robin :
            </div>

<pre><code>def round_robin(processus_liste, quantum):
    processus = []
    for p in processus_liste:
        nouveau = Processus(p.pid, p.arrivee, p.duree)
        processus.append(nouveau)
    
    temps_actuel = 0
    file_attente = []
    termines = []
    i = 0
    
    processus = sorted(processus, key=lambda p: p.arrivee)
    
    while len(termines) < len(processus):
        while i < len(processus) and processus[i].arrivee <= temps_actuel:
            file_attente.append(processus[i])
            i += 1
        
        if not file_attente:
            temps_actuel = processus[i].arrivee
            continue
        
        p = file_attente.pop(0)
        
        if p.debut is None:
            p.debut = temps_actuel
        
        temps_exec = min(quantum, p.duree_restante)
        temps_actuel += temps_exec
        p.duree_restante -= temps_exec
        
        while i < len(processus) and processus[i].arrivee <= temps_actuel:
            file_attente.append(processus[i])
            i += 1
        
        if p.duree_restante == 0:
            p.fin = temps_actuel
            termines.append(p)
        else:
            file_attente.append(p)
    
    return sorted(termines, key=lambda p: p.pid)
</code></pre>

            <div class="question">
                <strong>Question 3.2 :</strong> Testez avec quantum=3 sur ce jeu :
            </div>

<pre><code>processus = [
    Processus(1, 0, 10),
    Processus(2, 1, 8),
    Processus(3, 2, 6),
    Processus(4, 4, 4)
]
</code></pre>

            <div class="question">
                <strong>Question 3.3 :</strong> Essayez quantum=5. Quel est l'impact sur l'√©quit√© entre processus ?
            </div>

            <div class="question">
                <strong>Question 3.4 :</strong> Pourquoi Round Robin est-il pr√©f√©r√© pour les syst√®mes interactifs ?
            </div>
        </div>

        <h2>IV. SJF (Shortest Job First)</h2>

        <div class="algo-box">
            <h4>üìå Algorithme SJF</h4>
            <p>
                S√©lectionne toujours le processus avec la plus courte dur√©e parmi ceux disponibles.
                Optimise le temps d'attente moyen mais peut causer la famine des longs processus.
            </p>
        </div>

        <div class="exercice">
            <div class="exercice-header">Exercice 4 : SJF optimal</div>
            
            <div class="question">
                <strong>Question 4.1 :</strong> Impl√©mentez SJF :
            </div>

<pre><code>def sjf(processus_liste):
    processus = [p for p in processus_liste]
    temps_actuel = 0
    termines = []
    
    while processus:
        disponibles = [p for p in processus if p.arrivee <= temps_actuel]
        
        if not disponibles:
            temps_actuel = min(p.arrivee for p in processus)
            continue
        
        p = min(disponibles, key=lambda x: x.duree)
        
        p.debut = temps_actuel
        temps_actuel += p.duree
        p.fin = temps_actuel
        
        termines.append(p)
        processus.remove(p)
    
    return termines
</code></pre>

            <div class="question">
                <strong>Question 4.2 :</strong> Testez avec :
            </div>

<pre><code>processus = [
    Processus(1, 0, 12),
    Processus(2, 1, 5),
    Processus(3, 2, 8),
    Processus(4, 3, 3),
    Processus(5, 5, 7)
]
</code></pre>

            <div class="question">
                <strong>Question 4.3 :</strong> Comparez avec FIFO sur les m√™mes donn√©es. Quelle am√©lioration constatez-vous ?
            </div>

            <div class="question">
                <strong>Question 4.4 :</strong> Quel est le risque pour P1 (le processus le plus long) ?
            </div>
        </div>

        <h2>V. SRTF (Shortest Remaining Time First)</h2>

        <div class="exercice">
            <div class="exercice-header">Exercice 5 : SRTF pr√©emptif</div>
            
            <div class="question">
                <strong>Question 5.1 :</strong> Impl√©mentez SRTF :
            </div>

<pre><code>def srtf(processus_liste):
    processus = []
    for p in processus_liste:
        nouveau = Processus(p.pid, p.arrivee, p.duree)
        processus.append(nouveau)
    
    temps_actuel = 0
    termines = []
    non_termines = sorted(processus, key=lambda p: p.arrivee)
    
    while non_termines:
        disponibles = [p for p in non_termines if p.arrivee <= temps_actuel]
        
        if not disponibles:
            temps_actuel = min(p.arrivee for p in non_termines)
            continue
        
        p = min(disponibles, key=lambda x: x.duree_restante)
        
        if p.debut is None:
            p.debut = temps_actuel
        
        prochain_arrivee = float('inf')
        for proc in non_termines:
            if proc.arrivee > temps_actuel:
                prochain_arrivee = min(prochain_arrivee, proc.arrivee)
        
        temps_exec = min(p.duree_restante, prochain_arrivee - temps_actuel)
        
        temps_actuel += temps_exec
        p.duree_restante -= temps_exec
        
        if p.duree_restante == 0:
            p.fin = temps_actuel
            termines.append(p)
            non_termines.remove(p)
    
    return sorted(termines, key=lambda p: p.pid)
</code></pre>

            <div class="question">
                <strong>Question 5.2 :</strong> Testez SRTF avec :
            </div>

<pre><code>processus = [
    Processus(1, 0, 11),
    Processus(2, 1, 3),
    Processus(3, 2, 7),
    Processus(4, 3, 2),
    Processus(5, 5, 9)
]
</code></pre>

            <div class="question">
                <strong>Question 5.3 :</strong> Tracez le diagramme de Gantt et comptez les changements de contexte.
            </div>

            <div class="question">
                <strong>Question 5.4 :</strong> Comparez SRTF et SJF. Lequel est th√©oriquement optimal ?
            </div>
        </div>

        <h2>VI. √âvaluation comparative</h2>

        <div class="exercice">
            <div class="exercice-header">Exercice 6 : Synth√®se et comparaison</div>
            
            <div class="question">
                <strong>Question 6.1 :</strong> Fonction d'affichage :
            </div>

<pre><code>def afficher_resultats(processus, titre="R√©sultats"):
    print("\n" + "="*80)
    print(f"{titre:^80}")
    print("="*80)
    print(f"{'PID':<5} {'Arr':<6} {'Dur':<6} {'D√©but':<8} {'Fin':<8} {'Attente':<10} {'Traitement':<10}")
    print("="*80)
    
    total_attente = 0
    total_traitement = 0
    
    for p in sorted(processus, key=lambda x: x.pid):
        attente = p.temps_attente()
        traitement = p.temps_traitement()
        total_attente += attente
        total_traitement += traitement
        
        print(f"{p.pid:<5} {p.arrivee:<6} {p.duree:<6} {p.debut:<8} {p.fin:<8} {attente:<10} {traitement:<10}")
    
    print("="*80)
    print(f"Temps d'attente moyen : {total_attente / len(processus):.2f}")
    print(f"Temps de traitement moyen : {total_traitement / len(processus):.2f}\n")
</code></pre>

            <div class="question">
                <strong>Question 6.2 :</strong> Jeu de donn√©es final pour comparaison :
            </div>

<pre><code>processus_final = [
    Processus(1, 0, 14),
    Processus(2, 1, 6),
    Processus(3, 3, 11),
    Processus(4, 5, 4),
    Processus(5, 7, 8)
]
</code></pre>

            <div class="question">
                <strong>Question 6.3 :</strong> Remplissez ce tableau :
            </div>

            <table>
                <tr>
                    <th>Algorithme</th>
                    <th>Temps attente moyen</th>
                    <th>√âquit√©</th>
                    <th>Changements contexte</th>
                </tr>
                <tr><td>FIFO</td><td></td><td></td><td></td></tr>
                <tr><td>Round Robin (q=3)</td><td></td><td></td><td></td></tr>
                <tr><td>SJF</td><td></td><td></td><td></td></tr>
                <tr><td>SRTF</td><td></td><td></td><td></td></tr>
            </table>

            <div class="question">
                <strong>Question 6.4 :</strong> Si vous deviez en choisir un pour un syst√®me d'exploitation moderne, lequel prendriez-vous et pourquoi ?
            </div>
        </div>

        <h2>üìù Livrables</h2>

        <div class="info">
            <strong>üíæ √Ä rendre (un seul rendu par bin√¥me) :</strong>
            <ul>
                <li><code>processus.py</code> : classe Processus</li>
                <li><code>ordonnancement.py</code> : 4 algorithmes + affichage</li>
                <li><code>tests.py</code> : vos tests sur tous les jeux de donn√©es</li>
                <li><code>analyse.pdf</code> : r√©ponses, diagrammes de Gantt, tableaux et conclusion argument√©e</li>
            </ul>
        </div>
    </div>
</body>
</html>
